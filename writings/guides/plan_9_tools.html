<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Plan 9 tools on Unix</title>
    <link rel="stylesheet" href="../../css/default.css" type="text/css" media="screen" title="default">
    <link rel="stylesheet" href="../../css/syntax.css" type="text/css">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="description" content="Troels Henriksen's piece of the web.  Mostly about programming.">
    <meta name="keywords" content="Braintwist, Brainfuck, Lisp, Common Lisp Troels Henriksen, Brainfork, Esoteric programming language, programming, Haskell, functional programming, Futhark">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  </head>
  <body>
    <div id="header">
      <div class="superHeader">

        <div class="right">
          <span class="doNotDisplay">Related sites:</span>
          <ul>
            <li><a href="https://github.com/Athas/sigkill.dk">github</a></li>
            
            <li><a href="../.././writings/guides/plan_9_tools.md">source</a></li>
            
          </ul>
        </div>

      </div>

      <div class="midHeader">
        <h1 class="headerTitle"><a href="../../">SIGKILL <span id="headerSubTitle">-9</span></a></h1>
      </div>

      <div class="subHeader">
        <ul class="menu0"><li><a href="../../blog/">blog/</a></li><li><a href="../../hacks/">hacks/</a></li><li><a href="../../links.html">links</a></li><li><a href="../../me/">me/</a></li><li><a href="../../programs/">programs/</a></li><li><a href="../../projects/">projects/</a></li><li><a href="../../writings/" class="thisPage">writings/</a></li></ul><ul class="menu1"><li><a href="../../writings/braces.html">braces</a></li><li><a href="../../writings/flights.html">flights</a></li><li><a href="../../writings/fountain_pens.html">fountain_pens</a></li><li><a href="../../writings/guides/" class="thisPage">guides/</a></li><li><a href="../../writings/languages.html">languages</a></li><li><a href="../../writings/primes.html">primes</a></li><li><a href="../../writings/scripting.html">scripting</a></li><li><a href="../../writings/semicolons.html">semicolons</a></li></ul><ul class="menu2"><li><a href="../../writings/guides/gateway.html">gateway</a></li><li><a href="../../writings/guides/hakyll.html">hakyll</a></li><li><a href="../../writings/guides/mime.html">mime</a></li><li><a href="../../writings/guides/nixos_pass.html">nixos_pass</a></li><li><a href="../../writings/guides/plan_9_tools.html" class="thisPage">plan_9_tools</a></li></ul>
      </div>
    </div>

    <div id="content">
      <h1 id="running-plan-9-userland-tools-on-unix"><a href="#running-plan-9-userland-tools-on-unix" id="running-plan-9-userland-tools-on-unix-link" class="titlelink" title="running-plan-9-userland-tools-on-unix">Running Plan 9 Userland Tools On Unix</a></h1>
<p>This document described how to set up a typical GNU/Linux system for running <code>rc</code> shell scripts that expect Plan 9 userland tools.</p>
<p>Plan 9 is an operating system developed at Bell Labs, able to be somewhat shallowly described as <em>Unix done right</em>. The standard tools (<code>ls</code>, <code>cat</code>, <code>sed</code>, etc) seem crude at first, having much less features than their modern GNU (and often BSD) incarnations, along with gratuitous shallow incompatibilities, but that merely reflects the Plan 9 (and Unix) philosophy of highly specialised nonbloated tools, not an actual technical deficiency.</p>
<p>The <a href="http://swtch.com/plan9port/">Plan 9 from User Space</a> project has ported a large amount of the Plan 9 userspace to Unix, including the standard tools, and constructed “culturally compatible” replacements for some of the parts that could not reasonably be ported (such as the display system). If you are merely interested in running shell scripts expecting a Plan 9 toolset (such as most everything under <a href="../../hacks" class="uri">/hacks</a>, the much more lightweight <a href="http://tools.suckless.org/9base">9base</a> package contains only a subset of the full toolset, namely those most useful for shell scripting. I attempt to ensure that all my scripts use only what can be found in 9base.</p>
<h2 id="setting-up-9base"><a href="#setting-up-9base" id="setting-up-9base-link" class="titlelink" title="setting-up-9base">Setting up 9base</a></h2>
<p>Debian contains the 9base package in its archives (although beware that the version may be out of date and missing important programs). This package will install most of its contents in <code>/usr/lib/plan9/</code>, with binaries in <code>/usr/lib/plan9/bin</code>. The manual pages will be in the standard directories, although prefixed with <code>plan9-</code> (so you would invoke <code>man plan9-sed</code> to read about the <code>sed</code> in 9base). It appears a semi-standard to have a <code>$PLAN9</code> environment variable point at <code>/usr/lib/plan9/</code> (if you install 9base manually, you should change this value, of course). You can set this environment variable globally by adding the following to <code>/etc/environment</code>:</p>
<pre><code>PLAN9=/usr/lib/plan9</code></pre>
<p>This will have no harmful effects. On the other hand, globally making <code>$PLAN9/bin</code> the head of your <code>$PATH</code> will most likely cause your system to break, as the system maintenance scripts assume a GNU userland. A good <code>rc</code> shell script should manually change its path to prefer <code>$PLAN9/bin</code>.</p>
<p>The most important binary in 9base is <code>rc</code>, the Plan 9 command shell, and it will have to be accessible through <code>$PATH</code> for shebang-lines (the <code>#!/usr/bin/env rc</code> at the first line of a shell script) to work. It may be easiest to simply copy <code>rc</code> to <code>/bin</code>, although it should also be safe to add <code>$PLAN9/bin</code> to the very end of your <code>$PATH</code>, for example by putting the following in your <code>.bashrc</code>:</p>
<pre><code>PATH=$PATH:$PLAN9/bin</code></pre>
<p>The choice of <code>.bashrc</code> over <code>/etc/environment</code> means that the setting will be user-local, although making this the global setting would be harmless.</p>
    </div>

    <div id="footer">
      <a href="http://jaspervdj.be/hakyll/index.html" id="hakyllLink">Powered by Hakyll</a>

      <span id="dates">
        
        
      </span>
    </div>
  </body>
</html>
